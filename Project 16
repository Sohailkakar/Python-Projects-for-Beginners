import os

def contact_book():
    filename = "contacts.txt"

    # Ensure file exists
    if not os.path.exists(filename):
        with open(filename, "w") as f:
            pass

    while True:
        print("\nContact Book Options:")
        print("1. View Contacts")
        print("2. Add Contact")
        print("3. Search Contact")
        print("4. Exit")

        choice = input("Enter your choice: ")

        if choice == "1":
            with open(filename, "r") as f:
                contacts = f.readlines()
                if not contacts:
                    print("No contacts found.")
                else:
                    print("\nSaved Contacts:")
                    for line in contacts:
                        print(line.strip())

        elif choice == "2":
            name = input("Enter name: ")
            phone = input("Enter phone: ")
            email = input("Enter email: ")
            with open(filename, "a") as f:
                f.write(f"{name}, {phone}, {email}\n")
            print("Contact added successfully!")

        elif choice == "3":
            search = input("Enter name to search: ")
            with open(filename, "r") as f:
                contacts = f.readlines()
                found = [c.strip() for c in contacts if search.lower() in c.lower()]
                if found:
                    print("Search Results:")
                    for contact in found:
                        print(contact)
                else:
                    print("No matching contact found.")

        elif choice == "4":
            print("Exiting Contact Book. Goodbye!")
            break
        else:
            print("Invalid option. Try again.")

# Run the program
contact_book()
